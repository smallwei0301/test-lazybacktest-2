# âœ… æ¶æ§‹æª¢æŸ¥æ¸…å–® (Vibe Coding ç‰ˆ)

> **ä½¿ç”¨æ–¹æ³•**: åœ¨æäº¤ä»£ç¢¼å‰ï¼Œä½¿ç”¨é€™ä»½æ¸…å–®é©—è­‰ AI ç”Ÿæˆçš„ä»£ç¢¼æ˜¯å¦ç¬¦åˆæ¶æ§‹è¦ç¯„ã€‚

---

## ğŸ“‹ ç›®éŒ„

1. [å¿«é€Ÿæª¢æŸ¥ (5 åˆ†é˜)](#å¿«é€Ÿæª¢æŸ¥-5-åˆ†é˜)
2. [è©³ç´°æª¢æŸ¥ (15 åˆ†é˜)](#è©³ç´°æª¢æŸ¥-15-åˆ†é˜)
3. [å®Œæ•´æª¢æŸ¥ (30 åˆ†é˜)](#å®Œæ•´æª¢æŸ¥-30-åˆ†é˜)
4. [å±¤ç´šå°ˆé …æª¢æŸ¥](#å±¤ç´šå°ˆé …æª¢æŸ¥)
5. [æ¸¬è©¦æª¢æŸ¥](#æ¸¬è©¦æª¢æŸ¥)
6. [ä»£ç¢¼å“è³ªæª¢æŸ¥](#ä»£ç¢¼å“è³ªæª¢æŸ¥)
7. [æª¢æŸ¥å¤±æ•—æ’æŸ¥](#æª¢æŸ¥å¤±æ•—æ’æŸ¥)

---

## âš¡ å¿«é€Ÿæª¢æŸ¥ (5 åˆ†é˜)

**åœ¨ç¹å¿™çš„ Vibe Coding æ™‚ä½¿ç”¨ - æœ€åŸºæœ¬çš„æª¢æŸ¥**

### ä»£ç¢¼ä½ç½®æª¢æŸ¥
```
â–¡ API å±¤ä»£ç¢¼ â†’ åœ¨ js/layers/api/ ä¸­
â–¡ Core å±¤ä»£ç¢¼ â†’ åœ¨ js/layers/core/ ä¸­
â–¡ UI å±¤ä»£ç¢¼ â†’ åœ¨ js/layers/ui/ ä¸­
â–¡ Utils ä»£ç¢¼ â†’ åœ¨ js/layers/utils/ ä¸­
```

### å±¤ç´šé‚Šç•Œæª¢æŸ¥
```
â–¡ æ²’æœ‰åœ¨ UI å±¤çœ‹åˆ° API èª¿ç”¨
â–¡ æ²’æœ‰åœ¨ API å±¤çœ‹åˆ°æ¥­å‹™è¨ˆç®—
â–¡ æ²’æœ‰åœ¨ Core å±¤çœ‹åˆ° DOM æ“ä½œ
â–¡ æ²’æœ‰åœ¨ Utils å±¤çœ‹åˆ°ç‹€æ…‹ä¾è³´
```

### æ¸¬è©¦æª¢æŸ¥
```
â–¡ ä»£ç¢¼æ”¹å‹•å°æ‡‰çš„æ¸¬è©¦æ–‡ä»¶å­˜åœ¨
â–¡ é‹è¡Œ npm test æ²’æœ‰æ–°çš„å¤±æ•—
â–¡ è‡³å°‘è¦†è“‹äº†ä¸»è¦å ´æ™¯çš„æ¸¬è©¦
```

### æœ€çµ‚æª¢æŸ¥
```
âœ… ä»£ç¢¼åœ¨æ­£ç¢ºçš„ä½ç½®
âœ… æ²’æœ‰è·¨å±¤æ··åˆé‚è¼¯
âœ… æ¸¬è©¦é€šé
â†’ æº–å‚™å¥½æäº¤ï¼
```

---

## ğŸ” è©³ç´°æª¢æŸ¥ (15 åˆ†é˜)

**æ·»åŠ æ–°åŠŸèƒ½æ™‚ä½¿ç”¨ - æ›´å…¨é¢çš„æª¢æŸ¥**

### 1ï¸âƒ£ æ¶æ§‹æª¢æŸ¥

#### API å±¤ (å¦‚æœä¿®æ”¹äº† API)
```
â–¡ æ‰€æœ‰ HTTP èª¿ç”¨éƒ½åœ¨ API å±¤
â–¡ ä½¿ç”¨äº† withRetry æ©Ÿåˆ¶
â–¡ æœ‰è¶…æ™‚è¨­ç½®
â–¡ æœ‰å®Œæ•´çš„éŒ¯èª¤è™•ç†
â–¡ ä¸åšä»»ä½•æ¥­å‹™è¨ˆç®—
â–¡ ä¸æ“ä½œ DOM å…ƒç´ 
â–¡ ä¸è¨ªå•å…¨å±€ç‹€æ…‹ï¼ˆé™¤äº†é…ç½®ï¼‰

æª¢æŸ¥æ–¹æ³•:
grep -r "fetch\|axios" js/layers/core/   # ä¸æ‡‰è©²æœ‰çµæœ
grep -r "document\." js/layers/api/       # ä¸æ‡‰è©²æœ‰çµæœ
```

#### Core å±¤ (å¦‚æœä¿®æ”¹äº†æ¥­å‹™é‚è¼¯)
```
â–¡ æ‰€æœ‰è¨ˆç®—é‚è¼¯éƒ½åœ¨ Core å±¤
â–¡ æ²’æœ‰ HTTP èª¿ç”¨
â–¡ æ²’æœ‰ DOM æ“ä½œ
â–¡ æ²’æœ‰ localStorage æ“ä½œ
â–¡ å‡½æ•¸åƒæ•¸æ¸…æ™°
â–¡ æœ‰è¼¸å…¥é©—è­‰
â–¡ æœ‰é‚Šç•Œæƒ…æ³è™•ç†
â–¡ è¨ˆç®—çµæœå¯é©—è­‰

æª¢æŸ¥æ–¹æ³•:
grep -r "fetch\|axios" js/layers/core/backtest* # ä¸æ‡‰è©²æœ‰çµæœ
grep -r "document\." js/layers/core/            # ä¸æ‡‰è©²æœ‰çµæœ
grep -r "localStorage" js/layers/core/          # ä¸æ‡‰è©²æœ‰çµæœ
```

#### UI å±¤ (å¦‚æœä¿®æ”¹äº† UI)
```
â–¡ æ‰€æœ‰ DOM æ“ä½œéƒ½åœ¨ UI å±¤
â–¡ æ•¸æ“šæ”¶é›†é‚è¼¯æ¸…æ™°
â–¡ èª¿ç”¨ Core å±¤åšè¨ˆç®—ï¼ˆä¸æ˜¯ç›´æ¥è¨ˆç®—ï¼‰
â–¡ ä½¿ç”¨ StateManager ä¿å­˜ç‹€æ…‹
â–¡ æœ‰ç”¨æˆ¶è¼¸å…¥é©—è­‰
â–¡ æœ‰å‹å¥½çš„éŒ¯èª¤æç¤º
â–¡ ä»£ç¢¼ Readableï¼ˆæ˜“æ–¼ç†è§£ï¼‰

æª¢æŸ¥æ–¹æ³•:
grep -r "calculate\|compute" js/layers/ui/    # æ‡‰è©²è¼ƒå°‘ï¼Œéƒ½æ‡‰è©²èª¿ç”¨ Core å±¤
grep -r "Math\." js/layers/ui/ui-controller   # æ‡‰è©²å¾ˆå°‘ï¼Œè¨ˆç®—æ‡‰åœ¨ Core
```

#### Utils å±¤ (å¦‚æœæ·»åŠ äº†å·¥å…·)
```
â–¡ å·¥å…·å‡½æ•¸æ˜¯ç´”å‡½æ•¸
â–¡ ç„¡å‰¯ä½œç”¨
â–¡ ç„¡ç‹€æ…‹ä¾è³´
â–¡ å¯è¢«å¤šå€‹å±¤ä½¿ç”¨
â–¡ åƒæ•¸æ¸…æ™°
â–¡ è¿”å›å€¼æ˜ç¢º
â–¡ æœ‰è©³ç´°è¨»é‡‹
```

---

### 2ï¸âƒ£ ä»£ç¢¼è³ªé‡æª¢æŸ¥

```
â–¡ è®Šæ•¸åæ¸…æ™°æœ‰æ„ç¾©
â–¡ å‡½æ•¸åå‹•è©é–‹é ­ä¸”æ¸…æ¥š
â–¡ æ²’æœ‰å–®å­—æ¯è®Šæ•¸ï¼ˆé™¤äº†å¾ªç’°è¨ˆæ•¸å™¨ i, j, kï¼‰
â–¡ æ²’æœ‰é­”æ•¸ï¼ˆæ•¸å­—ç›´æ¥å‡ºç¾åœ¨ä»£ç¢¼ä¸­ï¼‰
â–¡ æœ‰é©ç•¶çš„è¨»é‡‹
â–¡ ä»£ç¢¼ç¸®æ’ä¸€è‡´ï¼ˆ2 å€‹ç©ºæ ¼ï¼‰
â–¡ æ²’æœ‰å¤šé¤˜çš„ç©ºç™½è¡Œ
â–¡ æ²’æœ‰ console.logï¼ˆé™¤éå¿…è¦çš„èª¿è©¦ï¼‰
```

---

### 3ï¸âƒ£ æ¸¬è©¦æª¢æŸ¥

```
â–¡ ç·¨å¯«äº†å–®å…ƒæ¸¬è©¦
â–¡ æ¸¬è©¦åœ¨æ­£ç¢ºçš„æ–‡ä»¶ä¸­
â–¡ æ¸¬è©¦åç¨±æ¸…æ™°ï¼ˆæè¿°æ‡‰è©²æ¸¬ä»€éº¼ï¼‰
â–¡ æ­£å¸¸æƒ…æ³æœ‰æ¸¬è©¦
â–¡ ç•°å¸¸æƒ…æ³æœ‰æ¸¬è©¦
â–¡ é‚Šç•Œæƒ…æ³æœ‰æ¸¬è©¦
â–¡ é‹è¡Œ npm test æ‰€æœ‰æ¸¬è©¦é€šé
```

---

### 4ï¸âƒ£ ä¾è³´æª¢æŸ¥

```
â–¡ å°å…¥è²æ˜æ¸…æ™°æ­£ç¢º
â–¡ æ²’æœ‰å¾ªç’°ä¾è³´
â–¡ åªå°å…¥éœ€è¦çš„éƒ¨åˆ†
â–¡ å°å…¥é †åºåˆç†ï¼ˆæ¨™æº–åº« â†’ é …ç›®åº« â†’ ç›¸å°è·¯å¾‘ï¼‰

æª¢æŸ¥æ–¹æ³•:
# æŸ¥çœ‹æ–‡ä»¶é ­éƒ¨çš„ import/require è²æ˜
head -20 [ä¿®æ”¹çš„æ–‡ä»¶]
```

---

## ğŸ¯ å®Œæ•´æª¢æŸ¥ (30 åˆ†é˜)

**é‡å¤§åŠŸèƒ½ä¿®æ”¹æ™‚ä½¿ç”¨ - å…¨é¢æ·±åº¦æª¢æŸ¥**

### åŒ…å«ä»¥ä¸Šæ‰€æœ‰æª¢æŸ¥ï¼ŒåŠ ä¸Š:

### 5ï¸âƒ£ åŠŸèƒ½æ•´åˆæª¢æŸ¥

```
â–¡ ç«¯åˆ°ç«¯æµç¨‹å·¥ä½œæ­£å¸¸
â–¡ API â†’ Core â†’ UI çš„èª¿ç”¨éˆæ­£ç¢º
â–¡ æ•¸æ“šè½‰æ›æ­£ç¢º
â–¡ ç‹€æ…‹æ›´æ–°æ­£ç¢º
â–¡ éŒ¯èª¤èƒ½æ­£ç¢ºå‚³é

æ¸¬è©¦æ–¹æ³•:
npm run test:integration  # é‹è¡Œæ•´åˆæ¸¬è©¦
```

---

### 6ï¸âƒ£ æ€§èƒ½æª¢æŸ¥

```
â–¡ æ²’æœ‰ O(nÂ²) æˆ–æ›´å·®çš„ç®—æ³•
â–¡ å¤§æ•¸æ“šé›†æ¸¬è©¦é€šé
â–¡ æ€§èƒ½æŒ‡æ¨™æ»¿è¶³è¦æ±‚
â–¡ æ²’æœ‰å¤šé¤˜çš„å¾ªç’°æˆ–éæ­¸

æª¢æŸ¥æ–¹æ³•:
npm run test:coverage     # æª¢æŸ¥ä»£ç¢¼è¦†è“‹ç‡
```

---

### 7ï¸âƒ£ å‘å¾Œå…¼å®¹æ€§æª¢æŸ¥

```
â–¡ ç¾æœ‰ API æ²’æœ‰æ”¹è®Š
â–¡ å¦‚æ”¹è®Šäº†ï¼Œæœ‰æ¸…æ¥šçš„é·ç§»è·¯å¾‘
â–¡ ç¾æœ‰åŠŸèƒ½æ²’æœ‰è¢«ç ´å£
â–¡ æ‰€æœ‰èˆŠæ¸¬è©¦ä»ç„¶é€šé

æª¢æŸ¥æ–¹æ³•:
npm test  # ç¢ºä¿æ‰€æœ‰ç¾æœ‰æ¸¬è©¦é€šé
```

---

### 8ï¸âƒ£ æ–‡æª”å’Œè¨»é‡‹æª¢æŸ¥

```
â–¡ è¤‡é›œå‡½æ•¸æœ‰ JSDoc è¨»é‡‹
â–¡ è¤‡é›œé‚è¼¯æœ‰è¡Œå…§è¨»é‡‹
â–¡ åƒæ•¸èªªæ˜æ¸…æ™°
â–¡ è¿”å›å€¼èªªæ˜æ¸…æ™°
â–¡ åŒ…å«ä½¿ç”¨ç¤ºä¾‹ï¼ˆå¦‚é©ç”¨ï¼‰
â–¡ åŒ…å«é‚Šç•Œæƒ…æ³èªªæ˜ï¼ˆå¦‚é©ç”¨ï¼‰
```

---

## ğŸ—ï¸ å±¤ç´šå°ˆé …æª¢æŸ¥

### API å±¤æª¢æŸ¥æ¸…å–®

```
æ·»åŠ æ–° API ç«¯é»æ™‚:

â–¡ æœ‰é©ç•¶çš„ HTTP æ–¹æ³•ï¼ˆGET/POST/PUT/DELETEï¼‰
â–¡ æœ‰å®Œæ•´çš„ URL æ§‹å»º
â–¡ æœ‰åƒæ•¸é©—è­‰
â–¡ æœ‰æŸ¥è©¢åƒæ•¸æˆ–è«‹æ±‚é«”çš„æ­£ç¢ºè™•ç†
â–¡ æœ‰è¶…æ™‚è¨­ç½®ï¼ˆé€šå¸¸ 30 ç§’ï¼‰
â–¡ æœ‰é‡è©¦æ©Ÿåˆ¶ï¼ˆæœ€å¤š 3 æ¬¡ï¼‰
â–¡ æœ‰é©—è­‰ HTTP ç‹€æ…‹ç¢¼
â–¡ æœ‰éŒ¯èª¤åˆ†é¡ï¼ˆ4xx vs 5xxï¼‰
â–¡ æœ‰é©ç•¶çš„ Content-Type

æ¸¬è©¦æ‡‰è©²æ¶µè“‹:
â–¡ æˆåŠŸéŸ¿æ‡‰ (200)
â–¡ å®¢æˆ¶ç«¯éŒ¯èª¤ (4xx)
â–¡ æœå‹™å™¨éŒ¯èª¤ (5xx)
â–¡ ç¶²çµ¡è¶…æ™‚
â–¡ é‡è©¦æ©Ÿåˆ¶

ä»£ç¢¼ç¤ºä¾‹:
âœ… æ­£ç¢º
async getStockData(ticker) {
  return this.withRetry(() => 
    fetch(`/api/stock/${ticker}`, { timeout: 30000 })
  );
}

âŒ éŒ¯èª¤
getStockData(ticker) {
  return fetch(`/api/stock/${ticker}`);  // æ²’æœ‰è¶…æ™‚ã€æ²’æœ‰é‡è©¦
}
```

---

### Core å±¤æª¢æŸ¥æ¸…å–®

#### BacktestEngine æª¢æŸ¥
```
æ·»åŠ æ–°è¨ˆç®—æ–¹æ³•æ™‚:

â–¡ è¼¸å…¥åƒæ•¸é©—è­‰å®Œæ•´
â–¡ é‚Šç•Œæƒ…æ³éƒ½è™•ç†äº†
â–¡ è¨ˆç®—é‚è¼¯æ¸…æ™°
â–¡ çµæœç²¾åº¦åˆç†
â–¡ è®Šæ•¸åæ¸…æ™°
â–¡ è¨ˆç®—éç¨‹æœ‰è¨»é‡‹
â–¡ æ²’æœ‰å‰¯ä½œç”¨
â–¡ æ€§èƒ½æ»¿è¶³è¦æ±‚ (10K ç­†äº¤æ˜“ < 100ms)

æ¸¬è©¦æ‡‰è©²æ¶µè“‹:
â–¡ æ­£å¸¸æ•¸æ“šé›†
â–¡ ç©ºæ•¸çµ„
â–¡ å–®å€‹å…ƒç´ 
â–¡ å¤§æ•¸æ“šé›†
â–¡ ç•°å¸¸å€¼ (è² æ•¸ã€é›¶ã€æ¥µå¤§å€¼)
â–¡ æ€§èƒ½åŸºæº–æ¸¬è©¦

ä»£ç¢¼ç¤ºä¾‹:
âœ… æ­£ç¢º
calculateProfit(trades) {
  if (!Array.isArray(trades) || trades.length === 0) return 0;
  
  return trades.reduce((sum, trade) => {
    return sum + (trade.closePrice - trade.openPrice);
  }, 0);
}

âŒ éŒ¯èª¤
calculateProfit(trades) {
  let profit = 0;
  for (let i = 0; i < trades.length; i++) {
    profit = profit + trades[i].profit;  // æ²’æœ‰é©—è­‰
  }
  return profit;
}
```

#### Indicators æª¢æŸ¥
```
æ·»åŠ æ–°æŒ‡æ¨™æ™‚:

â–¡ æ˜¯ç´”å‡½æ•¸ï¼ˆç›¸åŒè¼¸å…¥â†’ç›¸åŒè¼¸å‡ºï¼‰
â–¡ æ²’æœ‰å‰¯ä½œç”¨
â–¡ æ²’æœ‰ç‹€æ…‹ä¾è³´
â–¡ æ”¯æŒå¤§æ•¸æ“šé›†
â–¡ è¨ˆç®—æº–ç¢ºæ€§é«˜
â–¡ åƒæ•¸é©—è­‰å®Œæ•´
â–¡ æœ‰æ„ç¾©çš„éŒ¯èª¤ä¿¡æ¯

æ¸¬è©¦æ‡‰è©²æ¶µè“‹:
â–¡ å·²çŸ¥è¨ˆç®—çµæœï¼ˆç”¨æ¨™æº–å¯¦ç¾é©—è­‰ï¼‰
â–¡ é‚Šç•Œæƒ…æ³
â–¡ å¤§æ•¸æ“šé›†
â–¡ æµ®é»ç²¾åº¦
â–¡ æ€§èƒ½ (1000 å€‹æ•¸æ“šé» < 100ms)

ä»£ç¢¼ç¤ºä¾‹:
âœ… æ­£ç¢º
calculateSMA(data, period) {
  if (!Array.isArray(data) || data.length < period) {
    throw new Error(`éœ€è¦è‡³å°‘ ${period} å€‹æ•¸æ“šé»`);
  }
  
  const result = data
    .slice(-period)
    .reduce((sum, val) => sum + val, 0) / period;
  
  return Math.round(result * 100) / 100;
}

âŒ éŒ¯èª¤
calculateSMA(data, period) {
  let sum = 0;
  for (let i = 0; i < period; i++) {
    sum += data[i];  // æ²’æœ‰é‚Šç•Œæª¢æŸ¥
  }
  return sum / period;
}
```

#### StrategyManager æª¢æŸ¥
```
ä¿®æ”¹ç­–ç•¥ç®¡ç†æ™‚:

â–¡ ç­–ç•¥é…ç½®é©—è­‰å®Œæ•´
â–¡ ç­–ç•¥éš”é›¢æ­£ç¢º
â–¡ ç‰ˆæœ¬ç®¡ç†æ¸…æ™°
â–¡ åƒæ•¸ç®¡ç†å®Œå–„
â–¡ æ²’æœ‰ç­–ç•¥é–“çš„å¹²æ“¾
â–¡ æœ‰é©ç•¶çš„éŒ¯èª¤æç¤º

æ¸¬è©¦æ‡‰è©²æ¶µè“‹:
â–¡ ç­–ç•¥è¨»å†Š
â–¡ ç­–ç•¥é©—è­‰
â–¡ ç­–ç•¥æ›´æ–°
â–¡ ç­–ç•¥åˆªé™¤
â–¡ åƒæ•¸é©—è­‰
â–¡ é‚Šç•Œæƒ…æ³
```

---

### UI å±¤æª¢æŸ¥æ¸…å–®

#### UIController æª¢æŸ¥
```
ä¿®æ”¹ UI æ§åˆ¶æ™‚:

â–¡ DOM é¸æ“‡å™¨æ¸…æ™°
â–¡ DOM å…ƒç´ å­˜åœ¨æª¢æŸ¥
â–¡ å€¼æå–æ­£ç¢º
â–¡ è¼¸å…¥é©—è­‰å®Œæ•´
â–¡ èª¿ç”¨ Core å±¤æ–¹æ³•ï¼ˆä¸æ˜¯ç›´æ¥è¨ˆç®—ï¼‰
â–¡ ä½¿ç”¨ StateManager ä¿å­˜ç‹€æ…‹
â–¡ éŒ¯èª¤æç¤ºå‹å¥½æ¸…æ™°
â–¡ æ²’æœ‰ç¡¬ç·¨ç¢¼çš„ DOM è¨ªå•

æ¸¬è©¦æ‡‰è©²æ¶µè“‹:
â–¡ DOM å…ƒç´ å­˜åœ¨
â–¡ å€¼æå–
â–¡ é©—è­‰è¦å‰‡
â–¡ éŒ¯èª¤é¡¯ç¤º
â–¡ ç‹€æ…‹ä¿å­˜
â–¡ æ ¸å¿ƒé‚è¼¯èª¿ç”¨

ä»£ç¢¼ç¤ºä¾‹:
âœ… æ­£ç¢º
getTickerValue() {
  const element = document.getElementById('ticker');
  if (!element) {
    throw new Error('Ticker è¼¸å…¥æ¡†ä¸å­˜åœ¨');
  }
  return element.value.trim().toUpperCase();
}

âŒ éŒ¯èª¤
getTickerValue() {
  return document.getElementById('ticker').value;  // æ²’æœ‰æª¢æŸ¥
}
```

#### StateManager æª¢æŸ¥
```
ä¿®æ”¹ç‹€æ…‹ç®¡ç†æ™‚:

â–¡ ç‹€æ…‹çµæ§‹æ¸…æ™°
â–¡ ç‹€æ…‹åˆå§‹åŒ–å®Œæ•´
â–¡ localStorage æ“ä½œæ­£ç¢º
â–¡ éæœŸè™•ç†æ­£ç¢º
â–¡ åŒæ­¥æ©Ÿåˆ¶æ¸…æ™°
â–¡ æ²’æœ‰ç‹€æ…‹æ±¡æŸ“
â–¡ TTL ç®¡ç†æ­£ç¢º

æ¸¬è©¦æ‡‰è©²æ¶µè“‹:
â–¡ ç‹€æ…‹ä¿å­˜
â–¡ ç‹€æ…‹è®€å–
â–¡ ç‹€æ…‹æ›´æ–°
â–¡ éæœŸè™•ç†
â–¡ localStorage æ“ä½œ
â–¡ åŒæ­¥æ©Ÿåˆ¶
```

---

### Utils å±¤æª¢æŸ¥æ¸…å–®

```
æ·»åŠ å·¥å…·å‡½æ•¸æ™‚:

â–¡ æ˜¯ç´”å‡½æ•¸
â–¡ ç„¡å‰¯ä½œç”¨
â–¡ ç„¡ç‹€æ…‹ä¾è³´
â–¡ åƒæ•¸é¡å‹æ¸…æ™°
â–¡ è¿”å›å€¼é¡å‹æ¸…æ™°
â–¡ æœ‰ JSDoc è¨»é‡‹
â–¡ é‚Šç•Œæƒ…æ³è™•ç†

æ¸¬è©¦æ‡‰è©²æ¶µè“‹:
â–¡ æ­£å¸¸è¼¸å…¥
â–¡ é‚Šç•Œæƒ…æ³
â–¡ ç•°å¸¸è¼¸å…¥
â–¡ é¡å‹æª¢æŸ¥

ä»£ç¢¼ç¤ºä¾‹:
âœ… æ­£ç¢º
/**
 * æ ¼å¼åŒ–å¹£å€¼
 * @param {number} value - å¹£å€¼
 * @param {string} currency - å¹£ç¨® (é è¨­: USD)
 * @returns {string} æ ¼å¼åŒ–å¾Œçš„å¹£å€¼
 * @example
 * formatCurrency(1234.56) // $1,234.56
 * formatCurrency(1234.56, 'CNY') // Â¥1,234.56
 */
function formatCurrency(value, currency = 'USD') {
  if (typeof value !== 'number') {
    throw new TypeError('value å¿…é ˆæ˜¯æ•¸å­—');
  }
  // ... å¯¦ç¾
}

âŒ éŒ¯èª¤
function format(v) {
  return '$' + v;  // æ²’æœ‰æ ¼å¼åŒ–ï¼Œæ²’æœ‰è¨»é‡‹
}
```

---

## ğŸ§ª æ¸¬è©¦æª¢æŸ¥

### å–®å…ƒæ¸¬è©¦æª¢æŸ¥

```
â–¡ æ¸¬è©¦æ–‡ä»¶ä½ç½®æ­£ç¢º
  - js/layers/api/* â†’ tests/unit/api/*
  - js/layers/core/* â†’ tests/unit/core/*
  - js/layers/ui/* â†’ tests/unit/ui/*
  - js/layers/utils/* â†’ tests/unit/utils/*

â–¡ æ¸¬è©¦æ–‡ä»¶åç¨±æ­£ç¢º
  - [æ¨¡å¡Šå].test.js æˆ– [æ¨¡å¡Šå].spec.js

â–¡ æ¸¬è©¦å¥—ä»¶çµ„ç¹”æ¸…æ™°
  describe('æ¨¡å¡Šå', () => {
    describe('æ–¹æ³•å', () => {
      test('should ...', () => {});
    });
  });

â–¡ æ¸¬è©¦åç¨±æ¸…æ™°
  âœ… test('should return profit when trades array is valid', () => {})
  âŒ test('test 1', () => {})

â–¡ æ¯å€‹æ¸¬è©¦åªæ¸¬è©¦ä¸€å€‹åŠŸèƒ½
â–¡ ä½¿ç”¨ setup/teardown (beforeEach/afterEach)
â–¡ Mock ä¾è³´æ¸…æ™°æ­£ç¢º
â–¡ æ–·è¨€æ¸…æ™°æœ‰åŠ›
```

---

### æ¸¬è©¦è¦†è“‹ç‡æª¢æŸ¥

```
é‹è¡Œè¦†è“‹ç‡æª¢æŸ¥:
npm run test:coverage

æª¢æŸ¥é …ç›®:
â–¡ èªå¥è¦†è“‹ç‡ (Statements) > 85%
â–¡ åˆ†æ”¯è¦†è“‹ç‡ (Branches) > 80%
â–¡ å‡½æ•¸è¦†è“‹ç‡ (Functions) > 85%
â–¡ è¡Œæ•¸è¦†è“‹ç‡ (Lines) > 85%

ç‰¹åˆ¥æ³¨æ„:
â–¡ é—œéµå‡½æ•¸è¦†è“‹ç‡ > 95%
â–¡ éŒ¯èª¤è™•ç†è·¯å¾‘æœ‰æ¸¬è©¦
â–¡ é‚Šç•Œæƒ…æ³æœ‰æ¸¬è©¦
```

---

### æ•´åˆæ¸¬è©¦æª¢æŸ¥

```
â–¡ æ•´åˆæ¸¬è©¦æ–‡ä»¶å­˜åœ¨ tests/integration/
â–¡ æ¸¬è©¦å®Œæ•´çš„åŠŸèƒ½æµç¨‹
â–¡ æ¸¬è©¦å±¤èˆ‡å±¤ä¹‹é–“çš„å”ä½œ
â–¡ æ¸¬è©¦ç•°å¸¸æƒ…æ³
â–¡ æ¸¬è©¦æ€§èƒ½æŒ‡æ¨™

é‹è¡Œæ•´åˆæ¸¬è©¦:
npm run test:integration
```

---

## ğŸ“Š ä»£ç¢¼å“è³ªæª¢æŸ¥

### ä»£ç¢¼è¤‡é›œåº¦æª¢æŸ¥

```
â–¡ å‡½æ•¸ä¸è¶…é 50 è¡Œä»£ç¢¼
  - å¦‚æœè¶…éï¼Œè€ƒæ…®æ‹†åˆ†æˆæ›´å°çš„å‡½æ•¸

â–¡ åµŒå¥—æ·±åº¦ä¸è¶…é 3-4 å±¤
  - å¤ªæ·±çš„åµŒå¥—é™ä½å¯è®€æ€§

â–¡ å¾ªç’°è¤‡é›œåº¦ (Cyclomatic Complexity) < 10
  - å¤ªé«˜è¡¨ç¤ºé‚è¼¯å¤ªè¤‡é›œ

æª¢æŸ¥æ–¹æ³•:
npm run test:verbose  # æœƒé¡¯ç¤ºä¸€äº›ä»£ç¢¼è¤‡é›œåº¦ä¿¡æ¯
```

---

### å‘½åè¦ç¯„æª¢æŸ¥

```
è®Šæ•¸å:
â–¡ camelCase (myVariable)
â–¡ æœ‰æ„ç¾© (ä¸æ˜¯ a, b, c)
â–¡ åè©å½¢å¼ (user, configuration)
â–¡ ä½ˆçˆ¾å€¼ä»¥ is, has, should é–‹é ­
  âœ… isValid, hasData, shouldRetry
  âŒ valid, data, retry

å‡½æ•¸å:
â–¡ camelCase
â–¡ å‹•è©é–‹é ­ (get, fetch, calculate, validate)
â–¡ æ¸…æ™°è¡¨é”åŠŸèƒ½
  âœ… getStockPrice(), calculateProfit()
  âŒ func(), do()

å¸¸æ•¸:
â–¡ UPPER_SNAKE_CASE (MAX_RETRIES)
â–¡ åœ¨æ–‡ä»¶é ‚éƒ¨å®šç¾©
â–¡ æœ‰æ¸…æ™°çš„å«ç¾©
```

---

### è¨»é‡‹å“è³ªæª¢æŸ¥

```
â–¡ è¤‡é›œç®—æ³•æœ‰è©³ç´°è¨»é‡‹
â–¡ éç›´è§€ä»£ç¢¼æœ‰è§£é‡‹
â–¡ JSDoc è¨»é‡‹å®Œæ•´
  - åƒæ•¸èªªæ˜
  - è¿”å›å€¼èªªæ˜
  - ä½¿ç”¨ç¤ºä¾‹

â–¡ æ²’æœ‰å¤šé¤˜çš„è¨»é‡‹
  âœ… // æª¢æŸ¥ç”¨æˆ¶æ˜¯å¦å·²èªè­‰
     if (!user.authenticated) { ... }
  âŒ // x = x + 1
     x = x + 1;

â–¡ æ²’æœ‰éæ™‚çš„è¨»é‡‹
â–¡ æ²’æœ‰ TODO / FIXME æ²’æœ‰æ™‚é–“è¡¨
```

---

## âŒ æª¢æŸ¥å¤±æ•—æ’æŸ¥

### æª¢æŸ¥å¤±æ•—: "ä»£ç¢¼ä¸åœ¨æ­£ç¢ºçš„å±¤"

**ç—‡ç‹€**: API å±¤æœ‰è¨ˆç®—é‚è¼¯ï¼ŒCore å±¤æœ‰ DOM æ“ä½œç­‰

**æ’æŸ¥æ­¥é©Ÿ**:
```
1. è­˜åˆ¥ä»£ç¢¼çš„è·è²¬
   - æ˜¯ç¶²çµ¡è«‹æ±‚ï¼Ÿâ†’ API å±¤
   - æ˜¯æ¥­å‹™è¨ˆç®—ï¼Ÿâ†’ Core å±¤
   - æ˜¯ UI æ“ä½œï¼Ÿâ†’ UI å±¤
   - æ˜¯é€šç”¨å·¥å…·ï¼Ÿâ†’ Utils å±¤

2. ç§»å‹•åˆ°æ­£ç¢ºçš„å±¤

3. æ›´æ–°å°å…¥è²æ˜

4. é‡æ–°ç·¨å¯«/ç§»å‹•ç›¸é—œæ¸¬è©¦

5. é‹è¡Œ npm test é©—è­‰
```

---

### æª¢æŸ¥å¤±æ•—: "æ¸¬è©¦ä¸å®Œæ•´"

**ç—‡ç‹€**: æ¸¬è©¦åªè¦†è“‹äº†ä¸»è·¯å¾‘ï¼Œæ²’æœ‰ç•°å¸¸æƒ…æ³

**æ’æŸ¥æ­¥é©Ÿ**:
```
1. åˆ†æä»£ç¢¼é‚è¼¯
   - æœ‰å“ªäº›ä¸»è¦è·¯å¾‘ï¼Ÿ
   - æœ‰å“ªäº›ç•°å¸¸æƒ…æ³ï¼Ÿ
   - æœ‰å“ªäº›é‚Šç•Œæƒ…æ³ï¼Ÿ

2. ç‚ºæ¯å€‹è·¯å¾‘æ·»åŠ æ¸¬è©¦
   - æ­£å¸¸æƒ…æ³
   - ç•°å¸¸æƒ…æ³ï¼ˆéŒ¯èª¤è¼¸å…¥ã€ç¶²çµ¡å¤±æ•—ç­‰ï¼‰
   - é‚Šç•Œæƒ…æ³ï¼ˆç©ºã€é›¶ã€æœ€å¤§å€¼ç­‰ï¼‰

3. æª¢æŸ¥æ¸¬è©¦è¦†è“‹ç‡
   npm run test:coverage

4. è£œå……ç¼ºå¤±çš„æ¸¬è©¦
```

---

### æª¢æŸ¥å¤±æ•—: "ä»£ç¢¼é¢¨æ ¼ä¸ä¸€è‡´"

**ç—‡ç‹€**: ä»£ç¢¼é¢¨æ ¼èˆ‡ç¾æœ‰ä»£ç¢¼ä¸ç¬¦

**æ’æŸ¥æ­¥é©Ÿ**:
```
1. å°æ¯”ç¾æœ‰ä»£ç¢¼é¢¨æ ¼
   - æŸ¥çœ‹ç›¸åŒåŠŸèƒ½çš„ç¾æœ‰ä»£ç¢¼
   - æå–é¢¨æ ¼è¦å‰‡

2. çµ±ä¸€ä»¥ä¸‹æ–¹é¢:
   - å‘½åè¦ç¯„
   - ç¸®æ’ï¼ˆ2 å€‹ç©ºæ ¼ï¼‰
   - ç©ºç™½è¡Œç”¨æ³•
   - è¨»é‡‹é¢¨æ ¼
   - å°å…¥é †åº

3. é‡æ–°æ ¼å¼åŒ–ä»£ç¢¼

4. é‹è¡Œ npm test é©—è­‰
```

---

### æª¢æŸ¥å¤±æ•—: "å¾ªç’°ä¾è³´"

**ç—‡ç‹€**: A æ¨¡å¡Šå°å…¥ Bï¼ŒB æ¨¡å¡Šå°å…¥ A

**æ’æŸ¥æ­¥é©Ÿ**:
```
1. ç•«å‡ºä¾è³´åœ–
   A â†’ B
   â†“   â†‘
   C â†â”˜

2. æ‰¾åˆ°å¾ªç’°
   A â†’ B â†’ A æˆ– A â†’ B â†’ C â†’ A

3. æ‰“ç ´å¾ªç’°
   é¸é … 1: æå–å…±åŒé‚è¼¯åˆ°ç¬¬ä¸‰å€‹æ¨¡å¡Š
   é¸é … 2: åè½‰å…¶ä¸­ä¸€å€‹ä¾è³´
   é¸é … 3: å»¶é²å°å…¥ï¼ˆå‹•æ…‹ requireï¼‰

4. é©—è­‰ä¾è³´ç„¡å¾ªç’°
```

---

### æª¢æŸ¥å¤±æ•—: "æ€§èƒ½ä¸ç¬¦åˆè¦æ±‚"

**ç—‡ç‹€**: æ¸¬è©¦åŸ·è¡Œæ™‚é–“éé•·

**æ’æŸ¥æ­¥é©Ÿ**:
```
1. é‹è¡Œæ€§èƒ½åˆ†æ
   npm run test:verbose  # é¡¯ç¤ºæ¯å€‹æ¸¬è©¦çš„åŸ·è¡Œæ™‚é–“

2. å®šä½æ…¢çš„æ¸¬è©¦
   - é€šå¸¸æ˜¯è¨ˆç®—å¯†é›†å‹æˆ– I/O æ“ä½œ

3. å„ªåŒ–ä»£ç¢¼
   - ä½¿ç”¨æ›´é«˜æ•ˆçš„ç®—æ³•
   - é¿å…å¤šé¤˜çš„å¾ªç’°
   - ä½¿ç”¨å‘é‡åŒ–è¨ˆç®—

4. è¨­ç½®æ€§èƒ½åŸºæº–
   - ä½¿ç”¨ performance.now()
   - æ¸¬è©¦å¤§æ•¸æ“šé›†

5. å†æ¬¡é©—è­‰æ€§èƒ½
```

---

## ğŸ¯ å¿«é€Ÿæª¢æŸ¥æµç¨‹åœ–

```
ä»£ç¢¼ä¿®æ”¹å®Œæˆ
    â†“
ã€å¿«é€Ÿæª¢æŸ¥ 5åˆ†é˜ã€‘
  - ä½ç½®å°å—ï¼Ÿ
  - æœ‰æ¸¬è©¦å—ï¼Ÿ
  - npm test é€šéï¼Ÿ
    â†“
âœ… ç°¡å–®ä¿®æ”¹ â†’ æº–å‚™æäº¤
âŒ è¤‡é›œä¿®æ”¹ â†’ é€²è¡Œè©³ç´°æª¢æŸ¥
    â†“
ã€è©³ç´°æª¢æŸ¥ 15åˆ†é˜ã€‘
  - æ¶æ§‹æ¸…æ™°å—ï¼Ÿ
  - æ¸¬è©¦å®Œæ•´å—ï¼Ÿ
  - ä»£ç¢¼è³ªé‡å¥½å—ï¼Ÿ
    â†“
âœ… ä¸­ç­‰æ”¹å‹• â†’ æº–å‚™æäº¤
âŒ å¤§å‹æ”¹å‹• â†’ é€²è¡Œå®Œæ•´æª¢æŸ¥
    â†“
ã€å®Œæ•´æª¢æŸ¥ 30åˆ†é˜ã€‘
  - æ•´åˆæ¸¬è©¦é€šéï¼Ÿ
  - æ€§èƒ½é”è¦æ±‚ï¼Ÿ
  - å‘å¾Œå…¼å®¹ï¼Ÿ
    â†“
âœ… æ‰€æœ‰æª¢æŸ¥é€šé
    â†“
æº–å‚™æäº¤ï¼ğŸ‰
```

---

## ğŸ“ æª¢æŸ¥å¤±æ•—å¿«é€Ÿæ±‚åŠ©

| å•é¡Œ | è§£æ±ºæ–¹æ¡ˆ | å‘½ä»¤ |
|------|--------|------|
| ä¸çŸ¥é“è©²å»å“ªå±¤ | çœ‹ [VIBE-CODING-ASSISTANT-GUIDE.md](VIBE-CODING-ASSISTANT-GUIDE.md) çš„æ¶æ§‹è¦å‰‡éƒ¨åˆ† | - |
| æ¸¬è©¦å¤±æ•— | é‹è¡Œ `npm run test:verbose` çœ‹è©³ç´°ä¿¡æ¯ | `npm run test:verbose` |
| æ¸¬è©¦è¦†è“‹ç‡ä½ | æŸ¥çœ‹ coverage å ±å‘Šæ‰¾ç¼ºå¤±æ¸¬è©¦ | `npm run test:coverage` |
| ä¸çŸ¥é“æ€éº¼å¯«æ¸¬è©¦ | çœ‹ç›¸åŒåŠŸèƒ½çš„ç¾æœ‰æ¸¬è©¦ä½œç‚ºåƒè€ƒ | - |
| æ€§èƒ½å•é¡Œ | ä½¿ç”¨æ€§èƒ½åŸºæº–æ¸¬è©¦æ‰¾ç“¶é ¸ | `npm run test:verbose` |
| é¢¨æ ¼ä¸ä¸€è‡´ | åƒè€ƒç›¸åŒå±¤çš„ä»£ç¢¼é¢¨æ ¼ | - |

---

## âœ… æœ€çµ‚æª¢æŸ¥æ¸…å–®

åœ¨é»æ“Šã€Œæäº¤ã€å‰ï¼Œæœ€å¾Œæª¢æŸ¥ä¸€æ¬¡:

```
ä»£ç¢¼æª¢æŸ¥:
â–¡ ä»£ç¢¼åœ¨æ­£ç¢ºçš„å±¤
â–¡ æ²’æœ‰è·¨å±¤æ··åˆé‚è¼¯
â–¡ ä»£ç¢¼é¢¨æ ¼ä¸€è‡´
â–¡ æœ‰é©ç•¶çš„è¨»é‡‹
â–¡ è®Šæ•¸åæ¸…æ™°

æ¸¬è©¦æª¢æŸ¥:
â–¡ ç·¨å¯«äº†å¿…è¦çš„æ¸¬è©¦
â–¡ npm test æ‰€æœ‰æ¸¬è©¦é€šé
â–¡ æ¸¬è©¦è¦†è“‹ç‡æ»¿è¶³è¦æ±‚
â–¡ ç•°å¸¸æƒ…æ³æœ‰æ¸¬è©¦
â–¡ é‚Šç•Œæƒ…æ³æœ‰æ¸¬è©¦

è³ªé‡æª¢æŸ¥:
â–¡ æ²’æœ‰ console.log
â–¡ æ²’æœ‰è¨»é‡‹æ‰çš„ä»£ç¢¼
â–¡ æ²’æœ‰æœªä½¿ç”¨çš„è®Šæ•¸
â–¡ æ²’æœ‰å¤šé¤˜çš„å°å…¥

æœ€çµ‚æª¢æŸ¥:
â–¡ åŠŸèƒ½å·¥ä½œæ­£å¸¸
â–¡ ç¾æœ‰åŠŸèƒ½æ²’è¢«ç ´å£
â–¡ æ€§èƒ½æ»¿è¶³è¦æ±‚
â–¡ ä»£ç¢¼å¯è¢«ä»–äººç¶­è­·

âœ… ä¸€åˆ‡éƒ½æº–å‚™å¥½äº†
â†’ æäº¤ä»£ç¢¼ï¼ğŸš€
```

---

## ğŸ“š ç›¸é—œè³‡æº

- [`VIBE-CODING-ASSISTANT-GUIDE.md`](VIBE-CODING-ASSISTANT-GUIDE.md) - å®Œæ•´åŠ©æ‰‹æŒ‡å—
- [`VIBE-CODING-PROMPTS.md`](VIBE-CODING-PROMPTS.md) - å¿«é€Ÿæç¤ºè©
- [`AUTOMATED-TESTING-GUIDE.md`](AUTOMATED-TESTING-GUIDE.md) - è‡ªå‹•æ¸¬è©¦æŒ‡å—

---

**Happy Vibe Coding! ğŸµğŸ’»**

**è¨˜ä½**: å¥½çš„æª¢æŸ¥æ¸…å–®ç¢ºä¿ä»£ç¢¼è³ªé‡ï¼