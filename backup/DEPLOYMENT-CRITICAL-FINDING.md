# ğŸš¨ éƒ¨ç½²é…ç½®ç·Šæ€¥åˆ†æå ±å‘Š\n\n## ğŸ˜± é‡å¤§ç™¼ç¾\n\n**æ‚¨ä¸Šå‚³çš„ netlify.toml é¡¯ç¤ºï¼šå¯¦éš›éƒ¨ç½²ä½¿ç”¨çš„æ˜¯ `/v0 design code/` ç›®éŒ„ï¼**\n\n---\n\n## ğŸ“Š é…ç½®å°æ¯”åˆ†æ\n\n### ä¹‹å‰æª¢æŸ¥çš„é…ç½®ï¼ˆæ ¹ç›®éŒ„ç‰ˆæœ¬ï¼‰\n\n```toml\n# èˆŠé…ç½®ï¼ˆæ ¹ç›®éŒ„éœæ…‹ç‰ˆæœ¬ï¼‰\n[build]\n  publish = \".\"              # ç™¼å¸ƒæ ¹ç›®éŒ„\n  command = \"\"               # ç„¡æ§‹å»ºå‘½ä»¤\n```\n\n**é€™æ˜¯ä¸€å€‹éœæ…‹ HTML + Vanilla JavaScript æ‡‰ç”¨**\n\n---\n\n### æ‚¨ä¸Šå‚³çš„é…ç½®ï¼ˆå¯¦éš›éƒ¨ç½²ç‰ˆæœ¬ï¼‰âš ï¸\n\n```toml\n# çœŸå¯¦é…ç½®ï¼ˆv0 design code - Next.js ç‰ˆæœ¬ï¼‰\n[build]\n  base = \"v0 design code\"                    # â† åŸºç›®éŒ„è¨­ç‚º v0 design code\n  command = \"npm run build\"                  # â† åŸ·è¡Œ Next.js æ§‹å»º\n  functions = \"netlify/functions\"            # â† Netlify Functions\n  publish = \".next\"                          # â† ç™¼å¸ƒ Next.js è¼¸å‡º\n\n[[plugins]]\n  package = \"@netlify/plugin-nextjs\"        # â† ä½¿ç”¨ Next.js æ’ä»¶\n```\n\n**é€™æ˜¯ä¸€å€‹ Next.js + React æ‡‰ç”¨ï¼**\n\n---\n\n## ğŸ”´ é—œéµå•é¡Œ\n\n### âš ï¸ æ‚¨çš„ä¿®æ”¹åœ¨éŒ¯èª¤çš„ä»£ç¢¼ç‰ˆæœ¬ä¸­ï¼\n\n| æ–¹é¢ | ä¿®æ”¹çš„ä½ç½® | å¯¦éš›ä½¿ç”¨çš„ä½ç½® | ç‹€æ…‹ |\n|------|----------|-------------|------|\n| backtest.js | âœ… æ ¹ç›®éŒ„ `/js/` | âŒ `v0 design code/public/app/js/` | **ä¸åŒ¹é…** |\n| batch-optimization.js | âœ… æ ¹ç›®éŒ„ `/js/` | âŒ `v0 design code/public/app/js/` | **ä¸åŒ¹é…** |\n| rolling-test.js | âœ… æ ¹ç›®éŒ„ `/js/` | âŒ `v0 design code/public/app/js/` | **ä¸åŒ¹é…** |\n| worker.js | âœ… æ ¹ç›®éŒ„ `/js/` | âŒ `v0 design code/public/app/js/` | **ä¸åŒ¹é…** |\n\n### âŒ çµè«–ï¼šæ‚¨çš„ä¿®æ”¹æœªè¢«éƒ¨ç½²ï¼\n\néƒ¨ç½²æµç¨‹ï¼š\n```\nNetlify æ§‹å»ºæ™‚ï¼š\n  1. é€²å…¥ v0 design code ç›®éŒ„ (base = \"v0 design code\")\n  2. åŸ·è¡Œ npm run build (Next.js æ§‹å»º)\n  3. ç™¼å¸ƒ .next ç›®éŒ„ (publish = \".next\")\n  4. æ ¹ç›®éŒ„çš„ /js æ–‡ä»¶è¢«å¿½ç•¥\n  5. æ‚¨çš„ä¿®æ”¹æ²’æœ‰è¢«ä½¿ç”¨\n```\n\n---\n\n## ğŸ“‚ éƒ¨ç½²é…ç½®è©³è§£\n\n### 1. åŸºç›®éŒ„è¨­ç½®\n\n```toml\nbase = \"v0 design code\"\n```\n\n**å«ç¾©**ï¼š\n- Netlify å°‡ `v0 design code/` ä½œç‚ºæ§‹å»ºçš„æ ¹ç›®éŒ„\n- æ‰€æœ‰æ§‹å»ºå‘½ä»¤éƒ½åœ¨é€™å€‹ç›®éŒ„å…§åŸ·è¡Œ\n- `npm run build` æœƒåœ¨ `v0 design code/` ä¸­é‹è¡Œ\n- æ ¹ç›®éŒ„çš„æ–‡ä»¶è¢«å¿½ç•¥\n\n### 2. æ§‹å»ºå‘½ä»¤\n\n```toml\ncommand = \"npm run build\"\n```\n\n**å«ç¾©**ï¼š\n- åŸ·è¡Œ `v0 design code/package.json` ä¸­çš„ `build` è…³æœ¬\n- é€™æ˜¯ Next.js æ§‹å»ºå‘½ä»¤\n- ç”Ÿæˆå„ªåŒ–çš„éœæ…‹å’Œæœå‹™å™¨ç«¯ä»£ç¢¼\n\n### 3. ç™¼å¸ƒç›®éŒ„\n\n```toml\npublish = \".next\"\n```\n\n**å«ç¾©**ï¼š\n- éƒ¨ç½² `v0 design code/.next/` ç›®éŒ„ï¼ˆç›¸å°æ–¼ baseï¼‰\n- é€™æ˜¯ Next.js æ§‹å»ºçš„è¼¸å‡º\n- åŒ…å«ç·¨è­¯å¾Œçš„ JavaScriptã€CSS ç­‰\n- æ ¹ç›®éŒ„çš„ä»»ä½•æ–‡ä»¶éƒ½ä¸æœƒç™¼å¸ƒ\n\n### 4. Next.js æ’ä»¶\n\n```toml\n[[plugins]]\n  package = \"@netlify/plugin-nextjs\"\n```\n\n**å«ç¾©**ï¼š\n- Netlify ä½¿ç”¨å®˜æ–¹ Next.js æ’ä»¶\n- è‡ªå‹•å„ªåŒ– Next.js éƒ¨ç½²\n- æ”¯æŒ ISRã€API Routes ç­‰\n\n### 5. Netlify Functions\n\n```toml\n[[redirects]]\n  from = \"/api/tpex/*\"\n  to = \"/.netlify/functions/tpex-proxy\"\n  status = 200\n  force = true\n```\n\n**å«ç¾©**ï¼š\n- `/api/tpex/*` è«‹æ±‚è¢«è½‰ç™¼åˆ° Netlify Functions\n- åœ¨ `v0 design code/netlify/functions/` ä¸­å®šç¾©\n- ç”¨æ–¼ä»£ç†è‚¡ç¥¨æ•¸æ“š API\n\n---\n\n## ğŸ¯ æ‚¨çš„ä¿®æ”¹åœ¨å“ªè£¡ï¼Ÿ\n\n### æ ¹ç›®éŒ„ `/js/` ä¸­çš„ä¿®æ”¹\n\n```\nroot/\nâ”œâ”€â”€ js/\nâ”‚   â”œâ”€â”€ backtest.js              â† âœ… æ‚¨ä¿®æ”¹äº†é€™å€‹\nâ”‚   â”œâ”€â”€ batch-optimization.js    â† âœ… æ‚¨ä¿®æ”¹äº†é€™å€‹\nâ”‚   â”œâ”€â”€ rolling-test.js          â† âœ… æ‚¨ä¿®æ”¹äº†é€™å€‹\nâ”‚   â””â”€â”€ worker.js                â† âœ… æ‚¨ä¿®æ”¹äº†é€™å€‹\nâ”œâ”€â”€ index.html                   â† âŒ é€™å€‹ä¸è¢«ä½¿ç”¨\nâ”œâ”€â”€ netlify.toml                 â† æŒ‡å‘ v0 design code\nâ””â”€â”€ ...\n```\n\n**é€™äº›æ–‡ä»¶åœ¨éƒ¨ç½²ä¸­è¢«å¿½ç•¥ï¼**\n\n---\n\n## ğŸ”¥ å¯¦éš›éƒ¨ç½²ä½¿ç”¨çš„æ–‡ä»¶\n\n```\nv0 design code/\nâ”œâ”€â”€ public/\nâ”‚   â””â”€â”€ app/\nâ”‚       â””â”€â”€ js/\nâ”‚           â”œâ”€â”€ backtest.js              â† âŒ æ²’æœ‰æ‚¨çš„ä¿®æ”¹\nâ”‚           â”œâ”€â”€ batch-optimization.js    â† âŒ æ²’æœ‰æ‚¨çš„ä¿®æ”¹\nâ”‚           â”œâ”€â”€ rolling-test.js          â† âŒ æ²’æœ‰æ‚¨çš„ä¿®æ”¹\nâ”‚           â””â”€â”€ worker.js                â† âŒ æ²’æœ‰æ‚¨çš„ä¿®æ”¹\nâ”œâ”€â”€ netlify/\nâ”‚   â””â”€â”€ functions/\nâ”‚       â”œâ”€â”€ tpex-proxy.js        â† ç”¨æ–¼è‚¡ç¥¨æ•¸æ“š\nâ”‚       â”œâ”€â”€ twse-proxy.js        â† ç”¨æ–¼è‚¡ç¥¨æ•¸æ“š\nâ”‚       â”œâ”€â”€ us-proxy.js          â† ç”¨æ–¼ç¾è‚¡æ•¸æ“š\nâ”‚       â””â”€â”€ ...\nâ”œâ”€â”€ app/\nâ”‚   â”œâ”€â”€ page.tsx                 â† Next.js ä¸»é \nâ”‚   â””â”€â”€ ...\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ next.config.mjs\nâ””â”€â”€ tsconfig.json\n```\n\n**é€™äº›æ–‡ä»¶æ­£åœ¨è¢«ä½¿ç”¨ï¼Œä½†æ²’æœ‰æ‚¨çš„ä¿®æ”¹ï¼**\n\n---\n\n## âš ï¸ é—œéµå•é¡Œ\n\n### 1ï¸âƒ£ ç‚ºä»€éº¼æœ‰å…©å€‹ç‰ˆæœ¬ï¼Ÿ\n\næ ¹æ“šé …ç›®çµæ§‹ï¼Œçœ‹èµ·ä¾†ï¼š\n\n1. **èˆŠç‰ˆæœ¬**ï¼ˆæ ¹ç›®éŒ„ `/js/`ï¼‰\n   - åŸå§‹çš„ Vanilla JavaScript å¯¦ç¾\n   - å·²ç¶“è¢«æ£„ç½®\n   - ä¸å†ä½¿ç”¨\n\n2. **æ–°ç‰ˆæœ¬**ï¼ˆ`v0 design code/`ï¼‰\n   - Next.js + React é‡å¯«\n   - ç•¶å‰æ­£åœ¨ä½¿ç”¨\n   - åœ¨ç”Ÿç”¢ç’°å¢ƒä¸­é‹è¡Œ\n\n### 2ï¸âƒ£ ç‚ºä»€éº¼æˆ‘ä¹‹å‰çš„åˆ†æéŒ¯äº†ï¼Ÿ\n\næˆ‘æª¢æŸ¥çš„æ˜¯æ ¹ç›®éŒ„çš„ `netlify.toml`ï¼Œå®ƒå·²ç¶“éæ™‚äº†ã€‚\n\næ‚¨ä¸Šå‚³çš„ `netlify.toml` æ˜¯**å¯¦éš›çš„ã€ç•¶å‰çš„**éƒ¨ç½²é…ç½®ã€‚\n\n### 3ï¸âƒ£ æ‚¨çš„ä¿®æ”¹æœ‰æ²’æœ‰æ•ˆæœï¼Ÿ\n\n**âŒ æ²’æœ‰ã€‚é›¶æ•ˆæœã€‚**\n\nå› ç‚ºï¼š\n- æ‚¨ä¿®æ”¹çš„æ–‡ä»¶åœ¨æ ¹ç›®éŒ„ `/js/`\n- ä½† Netlify æ§‹å»º `v0 design code/` ç›®éŒ„\n- æ ¹ç›®éŒ„çš„æ–‡ä»¶è¢«å®Œå…¨å¿½ç•¥\n- ä¿®æ”¹æ²’æœ‰è¢«éƒ¨ç½²\n\n---\n\n## ğŸš€ è§£æ±ºæ–¹æ¡ˆ\n\n### éœ€è¦åœ¨ v0 design code ä¸­æ‡‰ç”¨ç›¸åŒçš„ä¿®æ”¹ï¼\n\næ‚¨éœ€è¦åœ¨ä»¥ä¸‹ä½ç½®é‡è¤‡æ‚¨çš„ä¿®æ”¹ï¼š\n\n1. **`v0 design code/public/app/js/backtest.js`**\n   - æ·»åŠ  `skipDataValidation: false`\n\n2. **`v0 design code/public/app/js/batch-optimization.js`**\n   - æ·»åŠ  `skipDataValidation: true`ï¼ˆ2 å€‹ä½ç½®ï¼‰\n\n3. **`v0 design code/public/app/js/rolling-test.js`**\n   - æ·»åŠ  `skipDataValidation: true`\n\n4. **`v0 design code/public/app/js/worker.js`**\n   - æ·»åŠ æ”¯æŒé‚è¼¯ï¼ˆ6 å€‹ä¿®æ”¹é»ï¼‰\n\n---\n\n## ğŸ“ ç¸½çµ\n\n| ç™¼ç¾ | è©³æƒ… |\n|------|------|\n| å¯¦éš›éƒ¨ç½²ç’°å¢ƒ | âŒ æ ¹ç›®éŒ„ç‰ˆæœ¬ä¸è¢«ä½¿ç”¨ |\n| | âœ… `v0 design code` æ˜¯å¯¦éš›éƒ¨ç½²çš„ |\n| æ‚¨çš„ä¿®æ”¹ä½ç½® | âŒ æ ¹ç›®éŒ„ `/js/`ï¼ˆè¢«å¿½ç•¥ï¼‰ |\n| éœ€è¦ä¿®æ”¹çš„ä½ç½® | âœ… `v0 design code/public/app/js/` |\n| æ‚¨çš„ä¿®æ”¹ç‹€æ…‹ | âŒ æœªè¢«éƒ¨ç½² |\n| å»ºè­° | åœ¨ `v0 design code` ä¸­æ‡‰ç”¨ç›¸åŒçš„ä¿®æ”¹ |\n\n---\n\n## ğŸ“Œ é—œéµä¿¡æ¯\n\n**ç¶²ç«™éƒ¨ç½²ä½¿ç”¨çš„æ•¸æ“šä¾†æº**ï¼š\n\n```toml\n# æ•¸æ“šä»£ç† API\n/api/tpex/*       â†’ /.netlify/functions/tpex-proxy      (å°ç£äº¤æ˜“æ‰€)\n/api/twse/*       â†’ /.netlify/functions/twse-proxy      (å°ç£è­‰åˆ¸äº¤æ˜“æ‰€)\n/api/adjusted-price/* â†’ /.netlify/functions/calculateAdjustedPrice (è‚¡ç¥¨èª¿æ•´)\n/api/us/*         â†’ /.netlify/functions/us-proxy        (ç¾è‚¡æ•¸æ“š)\n/api/index/*      â†’ /.netlify/functions/index-proxy     (æŒ‡æ•¸æ•¸æ“š)\n```\n\n**æ‰€æœ‰é€™äº›éƒ½æ˜¯åœ¨ Next.js æ‡‰ç”¨ï¼ˆ`v0 design code`ï¼‰ä¸­é‹è¡Œçš„ï¼**\n\n---\n\n**å ±å‘Šæ—¥æœŸ**: 2025-01-15  \n**é‡è¦æ€§**: ğŸ”´ **ç·Šæ€¥** - æ‚¨çš„ä¿®æ”¹ä¸åœ¨éƒ¨ç½²ä¸­ï¼\n"