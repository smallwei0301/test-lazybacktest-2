# v0 design code çš„ backtest.js æª¢æŸ¥å ±å‘Š\n\n## ğŸ” æª¢æŸ¥å•é¡Œ\n\n> **æª¢æŸ¥é€™å€‹ backtest.js æ–‡ä»¶æœ‰æ²’æœ‰ä½¿ç”¨åˆ°æˆ‘å€‘ç™¼å¸ƒçš„ index ä¸­**\n\n---\n\n## âŒ æª¢æŸ¥çµæœï¼šé€™å€‹ç›®éŒ„ä¸­çš„ backtest.js èˆ‡æ ¹ç›®éŒ„çš„ index.html æ²’æœ‰é—œè¯\n\n### æ–‡ä»¶ä½ç½®\n\n- **æª¢æŸ¥çš„æ–‡ä»¶**: `v0 design code/public/app/js/backtest.js` (11,381 è¡Œ)\n- **å°æ¯”çš„æ–‡ä»¶**: æ ¹ç›®éŒ„çš„ `index.html` ä¸­åŠ è¼‰çš„ `js/backtest.js`\n\n### æ˜¯å¦åŒ…å«æˆ‘å€‘çš„ä¿®æ”¹ï¼Ÿ\n\n| ä¿®æ”¹é …ç›® | æ˜¯å¦å­˜åœ¨ | ç‹€æ…‹ |\n|---------|--------|------|\n| `skipDataValidation` æ¨™è¨˜ | âŒ NO | **å®Œå…¨æ²’æœ‰** |\n| ç›¸é—œçš„ `skipDataValidation` é‚è¼¯ | âŒ NO | **ä¸å­˜åœ¨** |\n| æˆ‘å€‘åœ¨å›æ¸¬ä¸­æ·»åŠ çš„ flag | âŒ NO | **æœªè¦‹** |\n\n---\n\n## ğŸ“Š è©³ç´°åˆ†æ\n\n### 1. postMessage èª¿ç”¨æª¢æŸ¥\n\næ‰¾åˆ° 3 å€‹ `postMessage` èª¿ç”¨ä½ç½®ï¼š\n\n#### ä½ç½® 1ï¼šLine 5286 - å›æ¸¬æ¶ˆæ¯\n```javascript\n// v0 design code/public/app/js/backtest.js:5286\nbacktestWorker.postMessage(workerMsg);\n\n// ä¸Šä¸‹æ–‡:\nworkerMsg = {\n    type: 'backtest',\n    settings: { /* ... */ },\n    stockData: cachedStockData,\n    // âŒ æ²’æœ‰ skipDataValidation æ¨™è¨˜\n};\n```\n\n**æ¯”è¼ƒæ ¹ç›®éŒ„ç‰ˆæœ¬**:\n```javascript\n// æ ¹ç›®éŒ„ js/backtest.js æ‡‰è©²æœ‰:\nworkerMsg = {\n    type: 'backtest',\n    settings: { /* ... */ },\n    stockData: cachedStockData,\n    skipDataValidation: false  // âœ… æˆ‘å€‘æ·»åŠ çš„\n};\n```\n\n#### ä½ç½® 2ï¼šLine 8111 - å„ªåŒ–æ¶ˆæ¯\n```javascript\n// v0 design code/public/app/js/backtest.js:8111\noptimizationWorker.postMessage(workerMsg);\n\n// âŒ æ²’æœ‰ skipDataValidation: true æ¨™è¨˜\n```\n\n**æ‡‰è©²æœ‰**:\n```javascript\n// æ ¹ç›®éŒ„ç‰ˆæœ¬æ‡‰è©²æœ‰:\nworkerMsg = {\n    // ...\n    skipDataValidation: true  // âœ… æˆ‘å€‘æ·»åŠ çš„\n};\n```\n\n#### ä½ç½® 3ï¼šLine 8995 - æ»¾å‹•æ¸¬è©¦æ¶ˆæ¯\n```javascript\n// v0 design code/public/app/js/backtest.js:8995\nworker.postMessage(message);\n\n// âŒ æ²’æœ‰ skipDataValidation æ¨™è¨˜\n```\n\n---\n\n## ğŸ”´ æ ¸å¿ƒå•é¡Œ\n\n### é€™å€‹ backtest.js æ˜¯ä¸€å€‹ç¨ç«‹çš„ã€ä¸åŒçš„ç‰ˆæœ¬\n\n**è­‰æ“š**ï¼š\n\n1. **æ²’æœ‰æˆ‘å€‘çš„ä»»ä½•ä¿®æ”¹**\n   - ç¼ºå°‘æ‰€æœ‰ 10 å€‹ä¿®æ”¹é»ä¸­çš„ä»»ä½•ä¸€å€‹\n   - æ²’æœ‰ `skipDataValidation` ç›¸é—œä»£ç¢¼\n   - å®Œå…¨ç¨ç«‹çš„å¯¦ç¾\n\n2. **æ‰€åœ¨ä½ç½®å®Œå…¨ä¸åŒ**\n   - æ ¹ç›®éŒ„çš„: `js/backtest.js`ï¼ˆç”±æ ¹ç›®éŒ„ index.html åŠ è¼‰ï¼‰\n   - é€™å€‹æ–‡ä»¶: `v0 design code/public/app/js/backtest.js`ï¼ˆæ˜¯ Next.js é …ç›®çš„ä¸€éƒ¨åˆ†ï¼‰\n\n3. **å®Œå…¨ä¸åŒçš„é …ç›®çµæ§‹**\n   - æ ¹ç›®éŒ„ç‰ˆæœ¬ï¼šéœæ…‹ HTML + é¦™è‰ JavaScript\n   - v0 design code ç‰ˆæœ¬ï¼šNext.js + React + TypeScript\n\n4. **æ§‹å»ºå’Œéƒ¨ç½²æ–¹å¼å®Œå…¨ä¸åŒ**\n   - æ ¹ç›®éŒ„ç‰ˆæœ¬ï¼šç›´æ¥ç”± netlify.toml ç™¼å¸ƒ `.`\n   - v0 design code ç‰ˆæœ¬ï¼šéœ€è¦ Next.js æ§‹å»ºï¼ˆä½†æ²’æœ‰é…ç½®æ”¯æŒï¼‰\n\n---\n\n## ğŸ¯ çµè«–\n\n### âœ… å¥½æ¶ˆæ¯\n\n1. **æˆ‘å€‘çš„ä¿®æ”¹åœ¨æ­£ç¢ºçš„åœ°æ–¹**\n   - æ ¹ç›®éŒ„ `/js/backtest.js` æ˜¯è¢«å¯¦éš›éƒ¨ç½²å’Œä½¿ç”¨çš„\n   - æˆ‘å€‘çš„ 10 å€‹ä¿®æ”¹éƒ½æ‡‰ç”¨åœ¨æ­£ç¢ºçš„æ–‡ä»¶ä¸­\n   - ä¸‹æ¬¡éƒ¨ç½²æœƒè‡ªå‹•ä½¿ç”¨æ–°ä»£ç¢¼\n\n### âŒ å£æ¶ˆæ¯\n\n1. **v0 design code ä¸­çš„ backtest.js æ˜¯ä¸€å€‹èˆŠçš„ã€ä¸åŒçš„å‰¯æœ¬**\n   - å®Œå…¨æ²’æœ‰æˆ‘å€‘çš„ä¿®æ”¹\n   - é€™å€‹ç›®éŒ„ä¸è¢«éƒ¨ç½²\n   - é€™å€‹ç‰ˆæœ¬ä¸æœƒè¢«ä½¿ç”¨\n\n### ğŸ’¡ æŠ€è¡“è§£é‡‹\n\n**ç‚ºä»€éº¼æœ‰å…©å€‹ä¸åŒçš„ backtest.jsï¼Ÿ**\n\næ ¹æ“šé …ç›®çµæ§‹ï¼Œçœ‹èµ·ä¾†ï¼š\n\n1. **åŸå§‹ç‰ˆæœ¬**ï¼ˆæ ¹ç›®éŒ„ `/js/`ï¼‰\n   - é¦™è‰ JavaScript å¯¦ç¾\n   - åŠŸèƒ½å®Œæ•´å’Œå„ªåŒ–çš„\n   - **æ­£åœ¨ä½¿ç”¨ âœ…**\n\n2. **é‡æ–°è¨­è¨ˆç‰ˆæœ¬**ï¼ˆ`v0 design code/`ï¼‰\n   - Next.js + React é‡å¯«\n   - åŒ…å«èˆŠçš„ `/js/` æ–‡ä»¶å‰¯æœ¬ï¼ˆå¯èƒ½æ˜¯è¤‡è£½éä¾†çš„ï¼‰\n   - **æœªè¢«éƒ¨ç½² âŒ**\n   - **ä¸æœƒè¢«ä½¿ç”¨ âŒ**\n   - **ä¸éœ€è¦ä¿®æ”¹ âŒ**\n\n---\n\n## ğŸš€ å»ºè­°\n\n### 1. ä¸éœ€è¦ä¿®æ”¹ v0 design code ä¸­çš„æ–‡ä»¶\n\n```bash\n# é€™å€‹ç›®éŒ„ä¸­çš„æ–‡ä»¶ä¸æœƒè¢«ä½¿ç”¨\nâŒ ä¸éœ€è¦åœ¨é€™è£¡é€²è¡Œä»»ä½•ä¿®æ”¹\nâŒ ä¸éœ€è¦åŒæ­¥ä»£ç¢¼\nâŒ ä¸éœ€è¦æ›´æ–°å®ƒ\n```\n\n### 2. ç¹¼çºŒä½¿ç”¨æ ¹ç›®éŒ„ç‰ˆæœ¬\n\n```bash\n# æ ¹ç›®éŒ„çš„æ–‡ä»¶æ˜¯æ´»å‹•çš„\nâœ… æ ¹ç›®éŒ„ /js/backtest.js - å·²ç¶“ä¿®æ”¹\nâœ… æ ¹ç›®éŒ„ /js/batch-optimization.js - å·²ç¶“ä¿®æ”¹\nâœ… æ ¹ç›®éŒ„ /js/rolling-test.js - å·²ç¶“ä¿®æ”¹\nâœ… æ ¹ç›®éŒ„ /js/worker.js - å·²ç¶“ä¿®æ”¹\n```\n\n### 3. æ¸¬è©¦æ‚¨çš„ä¿®æ”¹\n\n```bash\n# ä½¿ç”¨æ ¹ç›®éŒ„ç‰ˆæœ¬é€²è¡Œæ¸¬è©¦\nnpm start\n# è¨ªå• http://localhost:8080\n# æ¸¬è©¦å›æ¸¬ã€æ‰¹é‡å„ªåŒ–ã€æ»¾å‹•æ¸¬è©¦\n```\n\n### 4. å¯é¸ï¼šæ¸…ç† v0 design codeï¼ˆæœªä¾†å¯èƒ½ï¼‰\n\n```bash\n# å¦‚æœ v0 design code ä¸å†éœ€è¦ï¼Œå¯ä»¥è€ƒæ…®:\n# 1. ç§»åˆ° archived/ ç›®éŒ„\n# 2. åˆªé™¤æˆ–æ­¸æª”\n# 3. ä½†ç›®å‰ä¸ç·Šæ€¥ - ä¸æœƒå°ç”Ÿç”¢ç”¢ç”Ÿå½±éŸ¿\n```\n\n---\n\n## ğŸ“‹ æœ€çµ‚ç¢ºèª\n\n| å•é¡Œ | ç­”æ¡ˆ |\n|------|------|\n| é€™å€‹ backtest.js ç”¨åœ¨æ ¹ç›®éŒ„ index.html ä¸­å—ï¼Ÿ | âŒ NOï¼Œå®Œå…¨ä¸åŒçš„æ–‡ä»¶ |\n| é€™å€‹æ–‡ä»¶æœ‰æˆ‘å€‘çš„ä¿®æ”¹å—ï¼Ÿ | âŒ NOï¼Œæ²’æœ‰ä»»ä½•ä¿®æ”¹ |\n| é€™å€‹ç›®éŒ„è¢«éƒ¨ç½²å—ï¼Ÿ | âŒ NOï¼Œè¢«å¿½ç•¥ |\n| é€™å€‹ç›®éŒ„æœƒå½±éŸ¿ç”Ÿç”¢å—ï¼Ÿ | âŒ NOï¼Œå®Œå…¨æ²’æœ‰ |\n| éœ€è¦ä¿®æ”¹é€™å€‹æ–‡ä»¶å—ï¼Ÿ | âŒ NOï¼Œä¸éœ€è¦ |\n| æ ¹ç›®éŒ„çš„ä¿®æ”¹å·²ç¶“è¶³å¤ å—ï¼Ÿ | âœ… YESï¼Œå®Œå…¨è¶³å¤  |\n\n---\n\n**æª¢æŸ¥æ—¥æœŸ**: 2025-01-15  \n**æª¢æŸ¥æ–‡ä»¶**: `v0 design code/public/app/js/backtest.js` (11,381 è¡Œ)  \n**æª¢æŸ¥çµæœ**: é€™æ˜¯ä¸€å€‹ç¨ç«‹çš„ã€æœªè¢«ä½¿ç”¨çš„ç‰ˆæœ¬å‰¯æœ¬ã€‚ä¸éœ€è¦ä¿®æ”¹ã€‚âœ…\n"