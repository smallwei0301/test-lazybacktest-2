<!DOCTYPE html>
<html>

<head>
    <title>Worker Syntax Test</title>
</head>

<body>
    <h1>Worker Syntax Test</h1>
    <div id="output">Initializing...</div>
    <script>
        const output = document.getElementById('output');
        try {
            const worker = new Worker('js/worker.js');
            worker.onmessage = (e) => {
                output.innerText = 'Worker Message: ' + JSON.stringify(e.data);
            };
            worker.onerror = (e) => {
                output.innerText = 'Worker Error: ' + e.message + ' at line ' + e.lineno;
                console.error(e);
            };
            // Send a dummy message to trigger something (though syntax error happens on load)
            worker.postMessage({ type: 'ping' });
            setTimeout(() => {
                if (output.innerText === 'Initializing...') {
                    output.innerText = 'Worker loaded (no immediate syntax error)';
                }
            }, 1000);
        } catch (e) {
            output.innerText = 'Main Script Error: ' + e.message;
        }
    </script>
</body>

</html>